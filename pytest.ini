[pytest]
# Test configuration
addopts = 
    -v 
    --tb=short 
    --strict-markers 
    --asyncio-mode=auto
    --cov=custom_components/tuya_local_lawnmowers 
    --cov-report=term:skip-covered 
    --junitxml=test-results.xml
    -p no:warnings

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Asyncio support
asyncio_mode = auto

# Test coverage configuration
[tool:pytest]
cov_source =
    custom_components/tuya_local_lawnmowers
cov_report =
    term:skip-covered
    html:coverage
junit_suite_name = tuya_local_lawnmowers
junit_logging = all
junit_duration_report = call
